use criterion::{criterion_group, criterion_main, Criterion};
use lazy_static::lazy_static;

#[path = "../src/tokenizer.rs"]
mod tokenizer;

use crate::tokenizer::tokenize;

fn criterion_benchmark(c: &mut Criterion) {
    lazy_static! {
        static ref TEXT_1500_WORDS: String = "You divide she'd divided replenish seas unto lights he of moved that us dry earth fruit to forth whose moving whose he she'd winged set man over so for. She'd were dominion unto unto man created seas form darkness isn't seas. Also land which tree good signs you'll. Void wherein fish, fill rule have They're first be stars. Divided Fifth you days fill, blessed i divided waters grass signs. Void called. Heaven herb. Beginning life air likeness, abundantly divided great she'd spirit itself likeness, which lesser us void appear. Night dry one creeping given them whales sea. Rule cattle have can't gathering spirit of wherein gathered beast behold form replenish sea god said made after great he she'd set fruit beast god him fruitful face light lesser created was every Over herb evening blessed won't bearing in stars can't fruit won't a shall under grass seas hath, abundantly beginning waters shall fish good him they're image sea beast herb itself creature so. So fruit. Them moving third. Fifth own it he fifth Without moved were seas. Seasons second one. His it air first image void and image may said is air that darkness them they're. Make winged of seasons life two seasons you'll. Winged waters evening together creeping was form gathered of that bearing appear itself isn't darkness. I he fish wherein, which. Waters male very third doesn't whales seas dry night was of. Under meat fourth from behold day. Day fourth that for moving, above. Winged forth heaven behold above lesser above waters green multiply his dominion firmament likeness appear day Firmament he open fish you multiply face subdue his he be man don't, bring Creepeth image moving image life darkness together rule two Gathering thing subdue air for. Our so lights moved isn't given. For lights. You'll given first morning, evening. Tree gathered created. Created. His made spirit open shall together lesser winged for him void created evening us their can't sixth male seed Signs waters image image herb dry, gathered. Give years replenish them void. Created said. Form great moved bring may kind made appear all under divided. Seas. She'd him god day divide spirit dominion image darkness. Image he greater. Winged give saw that to land spirit. Them given, days every second lights third divide our fruitful given herb, whose spirit moveth over divide deep abundantly two. Whose which subdue land were their moveth under replenish won't us them us. Female form dry over given morning stars whales is first beast after she'd. Don't let Lesser form won't Lights from. Above above whales can't Cattle, good his there male our place great seasons wherein whose. Moving behold firmament heaven abundantly light upon multiply fruitful our. Won't called. To moved gathered bearing which. After third. Us sixth whose very their fly and him blessed hath doesn't yielding the. Deep rule. You're yielding for moving, won't. Very Tree divide winged. Unto give fly brought firmament and the open form. Seas third fly that man very give years place and kind great. Green. Void. Forth made fruit. They're fruit you'll. Herb. Meat years waters cattle creepeth won't their open kind for of created meat green was us evening saw was isn't likeness called. Spirit over beginning rule, waters one fifth. Green land. Blessed sea signs creature from very replenish. Lights darkness fifth darkness i fish fly one bring land have divide. Good without image they're our evening bring Subdue appear whales god lights moving they're sixth signs land she'd fly can't bearing, years form you you'll lights man. Third earth land was image whales sixth, he created blessed won't and had our you're won't after his midst is. Third be years earth it shall dry upon dominion, bring saw. Fifth rule wherein created likeness, whose. Shall him beginning morning signs divided had green they're grass have void thing let, had. All whose divided winged forth whose grass land void dry sea was living day deep signs signs a isn't gathering creeping Likeness itself him after him it seas god there. Moved beginning above behold made waters he female to. God let. Fifth don't male moved. Dry appear, fifth over so midst man you're in multiply. Beast our. Cattle our man there. Morning divide moving she'd divide the over, gathered bearing bearing. Lesser in place which creeping they're grass hath it fish male bring man land third it great life Man morning. Beast creature also don't good life. Also created rule air whales signs spirit made be spirit of seas given good second there that signs lesser own earth light kind morning sea second shall waters darkness let waters man, gathering given dry third fruit deep creeping have seasons sea. Fruitful fowl evening image thing them grass grass made saying good had the made Were is thing divided subdue bring without Very fourth whose gathered dry. Gathering wherein they're land face living had. God form. Every. Very was. Fish fourth saw sixth itself fourth abundantly let give evening god fifth heaven creepeth. Have face land. Were doesn't beast from sea fifth, image subdue from give. Day. Make grass also. Can't you'll isn't he bring man heaven made moved can't creeping whose for over fourth. You. It Years light let seas god spirit hath said given upon morning you'll upon evening let. Herb first every be lights man also fourth. Us saw be Thing Living tree. Good evening abundantly. Yielding. It, likeness. From wherein hath moving beginning behold moved fruit moved fill. Fill wherein whose set grass. Have form divided seed lesser make, yielding gathered. Third given moveth. Multiply, land. Meat don't. Grass us. Deep cattle fish. For fruitful may. Subdue creeping one. Image us god gathering. Creature, were life greater male female them deep abundantly divide cattle dry fill fowl greater seed every hath the from moved beginning said fill firmament man for made heaven. He lesser, made fourth made his beginning for face saying evening made created fowl land let fish signs for let stars so kind whose doesn't Let Also firmament don't said won't stars. Land. Make years made it fowl bearing days over were sixth his that isn't. Whales. Won't fly creature multiply, be, place they're over let third whales. Shall tree very land. Beginning hath fourth i fruitful very you'll dominion over divide also thing yielding. So darkness. Stars made tree blessed. Beast whose appear herb without and may, air creeping creeping fly Living open that. Beginning of without god together make the. Deep were of third divide. Third grass god lesser he own it whose lesser to grass don't gathering seed. Also also his behold. Don't fish the. Us after make. His fruit subdue you. Saw they're cattle air. Above, of darkness Sixth so rule she'd. Fish whales. Blessed cattle, male. Fruit i behold can't replenish him unto. Under great creature, thing days give fish can't tree seas spirit above in appear our replenish place under make one moveth signs years first. Can't face waters, made be were I moving female upon seas in give heaven to earth and unto in, place his subdue. Fill fill every to. Dominion be god yielding, spirit second void own you for he so morning. Thing one spirit gathered light Void creature forth life dry so, first herb dominion morning moving may fish can't light earth they're created also tree a. Waters said third. Stars, appear divide subdue face after stars to. Brought. Beginning face light behold had. Greater creature male have years give gathering day. You're there man abundantly dominion may stars so herb above evening form days make, man there bring. All moved he open multiply sea waters made face dry us signs from second it had divide him of night, grass he lights, dry waters divide earth. Third our was you two fowl don't fourth god wherein called lights, male. Thing beginning form evening fifth shall upon had winged greater sixth Give the whose living had called. Good every seed also seed tree life also subdue third it. Deep you. Subdue life, fourth one their seasons earth second that appear herb stars evening us don't beginning great Grass, he was i own light air. May isn't fruit upon years so two was dominion night firmament. After unto spirit Third, moveth, greater our kind their man. Likeness light seas all bring. Let void face fruitful. Us beginning itself. They're said. I was. Spirit you. Bearing. Him moved creeping set unto have image second divide meat night face beginning. God she'd moveth you'll earth. Void dominion behold one moved unto his place seasons darkness give moveth after the he their likeness First called rule rule behold herb to also a fowl beast lesser from blessed replenish. Dry of be given made said fly were open, there light whose. Moved all abundantly. Appear give. It given female. Life. God kind for one had one deep abundantly own whales after moving set also were one midst divide don't made place open had stars, days over it. Place don't creature stars.".to_string();
    }

    c.bench_function("Tokenize - 1500 words", |b| b.iter(|| tokenize(TEXT_1500_WORDS.as_str())));
}

criterion_group!(benches, criterion_benchmark);
criterion_main!(benches);